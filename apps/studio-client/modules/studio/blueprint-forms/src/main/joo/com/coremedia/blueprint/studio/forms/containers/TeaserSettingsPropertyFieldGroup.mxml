<?xml version="1.0" encoding="UTF-8"?>
<editor:PropertyFieldGroup xmlns:fx="http://ns.adobe.com/mxml/2009"
                           xmlns:exml="http://www.jangaroo.net/exml/0.8"
                           xmlns="exml:ext.config"
                           xmlns:ui="exml:com.coremedia.ui.config"
                           xmlns:editor="exml:com.coremedia.cms.editor.sdk.config"
                           xmlns:local="com.coremedia.blueprint.studio.forms.containers.*"
                           itemId="teaserSettings"
                           title="{resourceManager.getString('com.coremedia.blueprint.studio.CustomLabels', 'PropertyGroup_TeaserSettings_label')}"
                           collapsed="{true}">
  <fx:Metadata>
    [ResourceBundle('com.coremedia.blueprint.studio.CustomLabels')]
  </fx:Metadata>
  <fx:Script><![CDATA[
    import com.coremedia.cap.content.ContentPropertyNames;
    import com.coremedia.ui.skins.PanelSkin;

    public static const xtype:String = "com.coremedia.blueprint.studio.config.teaserSettingsPropertyFieldGroup";

    private static const TEASER_SETTINGS_PATH:String = "localSettings.teaserSettings";

    private static const RENDER_LINK_TO_DETAIL_PAGE_PATH:String = TEASER_SETTINGS_PATH + ".renderLinkToDetailPage";

    private var config:TeaserSettingsPropertyFieldGroup;

    public native function TeaserSettingsPropertyFieldGroup(config:TeaserSettingsPropertyFieldGroup = null);
    ]]></fx:Script>

  <editor:items>
    <ui:StatefulCheckbox itemId="renderLinkToDetailPage">
      <ui:plugins>
        <editor:SetPropertyLabelPlugin bindTo="{config.bindTo}"
                                       labelProperty="boxLabel"
                                       propertyName="{RENDER_LINK_TO_DETAIL_PAGE_PATH}"/>
        <ui:BindPropertyPlugin bidirectional="{true}"
                               ifUndefined="{true}"
                               bindTo="{config.bindTo.extendBy(ContentPropertyNames.PROPERTIES, RENDER_LINK_TO_DETAIL_PAGE_PATH)}">
        </ui:BindPropertyPlugin>
        <editor:ShowIssuesPlugin propertyName="{RENDER_LINK_TO_DETAIL_PAGE_PATH}"
                                 bindTo="{config.bindTo}"/>
        <editor:BindDisablePlugin bindTo="{config.bindTo}"
                                  forceReadOnlyValueExpression="{config.forceReadOnlyValueExpression}"/>
      </ui:plugins>
    </ui:StatefulCheckbox>
    <local:CallToActionConfigurationForm header="{false}"
                                         useLegacyCTASettings="{true}"
                                         collapsible="{false}"
                                         ui="{PanelSkin.DEFAULT.getSkin()}"/>
  </editor:items>
</editor:PropertyFieldGroup>
