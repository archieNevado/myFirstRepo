<?xml version="1.0" encoding="UTF-8"?>
<!--generated by Chef, manually edited changes will be lost after next run-->
<configuration scan="true" scanPeriod="30 seconds">

  <jmxConfigurator />

  <%- unless @config['properties'].nil? -%>
    <% @config['properties'].keys.sort.each do |name| -%>
      <%- unless @config['properties'][name].to_s == '' -%>
        <property name="<%= name %>" value="<%= @config['properties'][name] %>"/>
      <% end -%>
    <% end -%>
  <% end -%>

  <%- unless @config['includes'].nil? -%>
    <% @config['includes'].sort.each do |include| -%>
      <include resource="<%= include %>"/>
    <% end -%>
  <% else -%>
  <include resource="logging-common.xml"/>
  <% end %>

  <% unless @config['logger'].nil? -%>
  <% @config['logger'].keys.sort.each do |key| -%>
    <logger name="<%= key %>" additivity="false" level="<%= @config['logger'][key] %>">
      <%- unless @config['appender'].nil? -%>
        <% @config['appender'].sort.each do |appender| -%>
      <appender-ref ref="<%= appender %>"/>
        <% end -%>
      <% else -%>
      <appender-ref ref="file"/>
      <% end %>
    </logger>
  <% end -%>
  <% end -%>

  <!-- Avoid frequent ERRORs and WARNs from pdfbox when parsing text from PDFs for indexing -->
  <logger name="org.apache.pdfbox.pdmodel.font" additivity="false" level="off"/>

  <root level="warn">
  <%- unless @config['appender'].nil? -%>
    <% @config['appender'].sort.each do |appender| -%>
    <appender-ref ref="<%= appender %>"/>
    <% end -%>
  <% else -%>
    <appender-ref ref="file"/>
  <% end %>
  </root>

</configuration>